<div class="js-editor">
    <div id="{{ form_element }}" class="editor"></div>
    <textarea id="textarea_{{ form_element }}" name="{{ form_element }}_json" rows="8" cols="80" style="display:none;">{{ form_value }}</textarea>
</div>

<script>

{% if is_current_path('admin.entries.edit') %}

 var saveButton_{{ form_element }} = document.getElementById('saveButton{{ form_element }}');

 /**
  * To initialize the Editor, create a new instance with configuration object
  * @see docs/installation.md for mode details
  */
 var {{ form_element }} = new EditorJS({
   /**
    * Wrapper of Editor
    */
   holder: '{{ form_element }}',
   /**
    * Tools list
    */
   tools: {
     /**
      * Each Tool is a Plugin. Pass them via 'class' option with necessary settings {@link docs/tools.md}
      */
     header: {
       class: Header,
       inlineToolbar: ['link'],
       config: {
         placeholder: 'Header'
       },
       shortcut: 'CMD+SHIFT+H'
     },
     /**
      * Or pass class directly without any configuration
      */
     image: {
       class: SimpleImage,
       inlineToolbar: ['link'],
     },
     list: {
       class: List,
       inlineToolbar: true,
       shortcut: 'CMD+SHIFT+L'
     },
     quote: {
       class: Quote,
       inlineToolbar: true,
       config: {
         quotePlaceholder: 'Enter a quote',
         captionPlaceholder: 'Quote\'s author',
       },
       shortcut: 'CMD+SHIFT+O'
     },
     marker: {
       class:  Marker,
       shortcut: 'CMD+SHIFT+M'
     },
     code: {
       class:  CodeTool,
       shortcut: 'CMD+SHIFT+C'
     },
     delimiter: Delimiter,
     inlineCode: {
       class: InlineCode,
       shortcut: 'CMD+SHIFT+C'
     },
     embed: Embed,
     table: {
       class: Table,
       inlineToolbar: true,
       shortcut: 'CMD+ALT+T'
     },
   },

   /**
    * This Tool will be used as default
    */
   initialBlock: 'paragraph',

   /**
    * Initial Editor data
    */
   data: {},

   onReady: function() {
       var json = document.getElementById("textarea_{{ form_element }}").innerHTML;
       {{ form_element }}.render(JSON.parse(json));
   },

   onChange: function() {
     {{ form_element }}.save().then((savedData) => {
       cPreview.show(savedData, document.getElementById("textarea_{{ form_element }}"));
     });
   }

 });

 {% endif %}

 </script>
